{"version":3,"sources":["app.js"],"names":["initApp","fixedNavigation","createGallery","scrollNav","darkModeToggle","hamburgerMenuContent","revealElementsOnScroll","main","document","querySelector","header","headerHeight","getBoundingClientRect","height","IntersectionObserver","entries","entry","isIntersecting","classList","remove","add","root","rootMargin","threshold","observe","querySelectorAll","forEach","link","addEventListener","e","preventDefault","scrollSection","target","attributes","href","value","scrollIntoView","alignToTop","behavior","gallery","i","image","createElement","innerHTML","style","cursor","onclick","showImage","appendChild","id","overlay","closeModal","body","pictureEl","navigation","paragraphs","dates","days","stagesNames","packageTitles","packageItems","contains","toggle","paragraph","date","day","stageName","packageTitle","packageItem","hamburger","principalNavigation","aboutFestival","window","bottom","allSections","sectionObserver","observer","unobserve","section"],"mappings":"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","file":"app.js","sourcesContent":["'use strict'\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\tinitApp()\r\n})\r\n\r\nfunction initApp() {\r\n\tfixedNavigation()\r\n\tcreateGallery()\r\n\tscrollNav()\r\n\tdarkModeToggle()\r\n\thamburgerMenuContent()\r\n\trevealElementsOnScroll()\r\n}\r\n\r\nfunction fixedNavigation() {\r\n\tconst main = document.querySelector('main')\r\n\tconst header = document.querySelector('.header')\r\n\tconst headerHeight = header.getBoundingClientRect().height\r\n\r\n\tconst mainFunction = (entries) => {\r\n\t\tconst [entry] = entries\r\n\r\n\t\tif (!entry.isIntersecting) {\r\n\t\t\theader.classList.add('sticky')\r\n\t\t} else {\r\n\t\t\theader.classList.remove('sticky')\r\n\t\t}\r\n\t}\r\n\r\n\tconst mainOptions = {\r\n\t\troot: null,\r\n\t\trootMargin: `-${headerHeight}px`,\r\n\t\tthreshold: 0\r\n\t}\r\n\r\n\tconst mainObserver = new IntersectionObserver(mainFunction, mainOptions)\r\n\tmainObserver.observe(main)\r\n}\r\n\r\nfunction scrollNav() {\r\n\tconst links = document.querySelectorAll('.principal-navigation a')\r\n\r\n\tlinks.forEach(link => {\r\n\t\tlink.addEventListener('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst scrollSection = e.target.attributes.href.value\r\n\t\t\tconst section = document.querySelector(scrollSection)\r\n\r\n\t\t\t//Using scrollIntoView API\r\n\t\t\tsection.scrollIntoView({ alignToTop: true, behavior: \"smooth\" })\r\n\t\t})\r\n\t})\r\n}\r\n\r\nfunction createGallery() {\r\n\tconst gallery = document.querySelector('.gallery-images')\r\n\r\n\tfor (let i = 1; i <= 12; i++) {\r\n\t\tconst image = document.createElement('picture')\r\n\t\timage.innerHTML = `\r\n\t\t\t<source srcset=\"build/img/thumb/${i}.avif\" type=\"image/avif\">\r\n\t\t\t<source srcset=\"build/img/thumb/${i}.webp\" type=\"image/webp\">\r\n\t\t\t<img width=\"200\" height=\"200\" src=\"build/img/thumb/${i}.jpg\"\r\n\t\t\talt=\"Gallery image ${i}\">\r\n\t\t`\r\n\t\timage.style.cursor = 'pointer'\r\n\r\n\t\timage.onclick = function () {\r\n\t\t\tshowImage(i)\r\n\t\t}\r\n\r\n\t\tgallery.appendChild(image)\r\n\t}\r\n}\r\n\r\nfunction showImage(id) {\r\n\tconst image = document.createElement('picture')\r\n\timage.innerHTML = `\r\n\t\t\t<source srcset=\"build/img/large/${id}.avif\" type=\"image/avif\">\r\n\t\t\t<source srcset=\"build/img/large/${id}.webp\" type=\"image/webp\">\r\n\t\t\t<img loading=\"lazy\" width=\"200\" height=\"200\" src=\"build/img/large/${id}.jpg\"\r\n\t\t\talt=\"Gallery image ${id}\">\r\n\t\t`\r\n\r\n\t// Creates the overlay with the image\r\n\tconst overlay = document.createElement('div')\r\n\toverlay.appendChild(image)\r\n\toverlay.classList.add('overlay')\r\n\r\n\toverlay.onclick = function () {\r\n\t\tconst body = document.querySelector('body')\r\n\t\tbody.classList.remove('fixBody')\r\n\t\toverlay.remove()\r\n\t}\r\n\r\n\t// Modal: Close button\r\n\tconst closeModal = document.createElement('button')\r\n\tcloseModal.classList.add('closeBtn')\r\n\tcloseModal.innerHTML = `\r\n\t<span class=\"text\">Close</span><span class=\"icon\"><svg viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"></path></svg></span>\r\n\t`\r\n\tcloseModal.onclick = function () {\r\n\t\tconst body = document.querySelector('body')\r\n\t\tbody.classList.remove('fixBody')\r\n\t\toverlay.remove()\r\n\t}\r\n\toverlay.appendChild(closeModal)\r\n\r\n\t// Appends them to the HTML\r\n\tconst body = document.querySelector('body')\r\n\tbody.classList.add('fixBody')\r\n\tbody.appendChild(overlay)\r\n\r\n}\r\n\r\nfunction darkModeToggle() {\r\n\t// Dynamic picture -> src element\r\n\tconst pictureEl = document.createElement('picture')\r\n\tpictureEl.classList.add('toggle-icon')\r\n\tpictureEl.style.cursor = 'pointer'\r\n\tconst navigation = document.querySelector('.principal-navigation')\r\n\r\n\t// Styles of dark mode\r\n\tconst body = document.querySelector('body')\r\n\tconst paragraphs = document.querySelectorAll('.paragraph')\r\n\tconst dates = document.querySelectorAll('.date')\r\n\tconst days = document.querySelectorAll('.day')\r\n\tconst stagesNames = document.querySelectorAll('.stage-name')\r\n\tconst packageTitles = document.querySelectorAll('.package-title')\r\n\tconst packageItems = document.querySelectorAll('.package-body > ul > li')\r\n\r\n\t// Dynamic creation of picture -> source x2 -> img\r\n\tif (!body.classList.contains('dark-mode-body')) {\r\n\t\tpictureEl.innerHTML = `\r\n\t\t\t<source srcset=\"build/img/icons/moon-icon.avif\" type=\"image/avif\">\r\n\t\t\t<source srcset=\"build/img/icons/moon-icon.webp\" type=\"image/webp\">\r\n\t\t\t<img width=\"50\" height=\"50\" src=\"build/img/icons/moon-icon.png\"\r\n\t\t\talt=\"Icon\">\r\n\t\t`\r\n\t\tnavigation.appendChild(pictureEl)\r\n\t}\r\n\r\n\t// Actions that will happen after clicking the icon.\r\n\tpictureEl.addEventListener('click', () => {\r\n\t\tbody.classList.toggle('dark-mode-body')\r\n\t\tparagraphs.forEach(paragraph => {\r\n\t\t\tparagraph.classList.toggle('dark-mode-paragraph')\r\n\t\t})\r\n\r\n\t\tdates.forEach(date => {\r\n\t\t\tdate.classList.toggle('dark-mode-date')\r\n\t\t\tdate.classList.toggle('date')\r\n\t\t})\r\n\r\n\t\tdays.forEach(day => {\r\n\t\t\tday.classList.toggle('dark-mode-day')\r\n\t\t\tday.classList.toggle('day')\r\n\t\t})\r\n\r\n\t\tstagesNames.forEach(stageName => {\r\n\t\t\tstageName.classList.toggle('dark-mode-stage-name')\r\n\t\t\tstageName.classList.toggle('stage-name')\r\n\t\t})\r\n\r\n\t\tpackageTitles.forEach(packageTitle => {\r\n\t\t\tpackageTitle.classList.toggle('dark-mode-package-title')\r\n\t\t})\r\n\r\n\t\tpackageItems.forEach(packageItem => {\r\n\t\t\tpackageItem.classList.toggle('dark-mode-package-item')\r\n\t\t})\r\n\r\n\t\t// Icon toggle\r\n\t\tif (body.classList.contains('dark-mode-body')) {\r\n\t\t\tpictureEl.innerHTML = `\r\n\t\t\t\t<source srcset=\"build/img/icons/sun-icon.avif\" type=\"image/avif\">\r\n\t\t\t\t<source srcset=\"build/img/icons/sun-icon.webp\" type=\"image/webp\">\r\n\t\t\t\t<img width=\"50\" height=\"50\" src=\"build/img/icons/sun-icon.png\"\r\n\t\t\t\talt=\"Icon\">\r\n\t\t\t`\r\n\t\t\tnavigation.appendChild(pictureEl)\r\n\t\t} else {\r\n\t\t\tpictureEl.innerHTML = `\r\n\t\t\t\t<source srcset=\"build/img/icons/moon-icon.avif\" type=\"image/avif\">\r\n\t\t\t\t<source srcset=\"build/img/icons/moon-icon.webp\" type=\"image/webp\">\r\n\t\t\t\t<img width=\"50\" height=\"50\" src=\"build/img/icons/moon-icon.png\"\r\n\t\t\t\talt=\"Icon\">\r\n\t\t\t`\r\n\t\t\tnavigation.appendChild(pictureEl)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction hamburgerMenuContent() {\r\n\tconst hamburger = document.querySelector('#hamburger')\r\n\tconst principalNavigation = document.querySelector('.principal-navigation')\r\n\r\n\tconst aboutFestival = document.querySelector('.about-festival')\r\n\tconst body = document.querySelector('body')\r\n\r\n\thamburger.addEventListener('click', () => {\r\n\t\thamburger.classList.toggle('open')\r\n\t\tprincipalNavigation.classList.toggle('show')\r\n\r\n\t\twindow.addEventListener('scroll', () => {\r\n\t\t\tif (aboutFestival.getBoundingClientRect().bottom < 0 && principalNavigation.classList.contains('show')) {\r\n\t\t\t\tbody.classList.add('fixed-show')\r\n\t\t\t} else {\r\n\t\t\t\tbody.classList.remove('fixed-show')\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}\r\n\r\nfunction revealElementsOnScroll() {\r\n\r\n\tconst allSections = document.querySelectorAll('section')\r\n\r\n\tconst revealSections = (entries, observer) => {\r\n\t\tconst [entry] = entries\r\n\r\n\t\t//? Guard clause\r\n\t\tif (!entry.isIntersecting) return\r\n\r\n\t\tentry.target.classList.remove('section--hidden')\r\n\t\tobserver.unobserve(entry.target)\r\n\t}\r\n\r\n\tconst sectionOptions = {\r\n\t\troot: null,\r\n\t\tthreshold: 0.1\r\n\t}\r\n\r\n\tconst sectionObserver = new IntersectionObserver(revealSections, sectionOptions)\r\n\tallSections.forEach(section => {\r\n\t\tsectionObserver.observe(section)\r\n\t\tsection.classList.add('section--hidden')\r\n\t})\r\n}"]}